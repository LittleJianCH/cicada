---
title: 1. The More Things Change, the More They Stay the Same
date: 2020-09-15
---

# Atom

```cicada
check "ratatouille": String

compute "ratatouille"
```

# Pair

```cicada
check cons("ratatouille", "baguette"): Pair(String, String)
check refl: Equal(String, "ratatouille", "ratatouille")

check refl: Equal(
  Pair(String, String),
  cons("ratatouille", "baguette"),
  cons("ratatouille", "baguette")
)

check car(the(Pair(String, String), cons("ratatouille", "baguette"))): String

check refl: Equal(
  String,
  "ratatouille",
  car(the(Pair(String, String), cons("ratatouille", "baguette")))
)
```

# Type

```cicada
check Pair(String, String): Type
check String: Type
check Type: Type
check refl: Equal(Type, String, String)

check Pair(
  car(the(Pair(Type, String), cons(String, "olive"))),
  cdr(the(Pair(String, Type), cons("oil", String)))
): Type

check cons(
  cdr(the(Pair(Type, String), cons(String, "olive"))),
  car(the(Pair(String, Type), cons("oil", String)))
): Pair(
  car(the(Pair(Type, String), cons(String, "olive"))),
  cdr(the(Pair(String, Type), cons("oil", String)))
)
```

# Definition of Value

An expression with a constructor at the top is called a value.

- Xie: The sub-expression under the constructor might be not yet value,
  thus the language can be lazy.

# Definition of Neutral

Expressions that are not values
and cannot yet be evaluated due to a variable
are called neutral.

- Xie: This definition occurs in next chapter,
  I pull it in for a compare.

# Definition of constructor

What exactly is a constructor?

Some expressions, such as `Nat` or `(Pair Nat Atom)`, are types.

Part of explaining a new type
is to say what its constructors are.
The constructor expressions are the direct ways
of building expressions with the new type.

# Values and Normal Forms

Not every value is in normal form. This is because the
arguments to a constructor need not be normal. Each
expression has only one normal form, but it is sometimes
possible to write it as a value in more than one way.

- Xie: In implementation,
  we represent "a normal expression" by "value plus its type",
  which has the potential of been further evaluated,
  and has the notation of equality (its type) with it.

# Definition of evaluation

> Finding a value that is the same as
> some starting expression is called evaluation.

Doesn't evaluation refer to
finding the meaning of an expression,
not just some simpler expression?

Not here. Expressions do not refer to some external notion of meaning
-- in Pie, there is nothing but expressions and what we judge about them.

> **Everything Is an Expression**
>
> In Pie, values are also expressions.
> Evaluation in Pie finds an expression,
> not some other kind of thing.

A normal expression has no remaining opportunities for evaluation.
Usually, expressions that are normal are easier to understand.
Finding a value is often enough, however,
because the top constructor can be used to determine what must happen next.
